# 用友ERP沙盘模拟系统

## 项目概述

用友ERP沙盘模拟系统是一款基于现代Web技术开发的企业运营模拟软件，用于创新创业实践课程教学。该系统通过模拟企业全流程运营，帮助学生理解企业管理的核心概念和运营逻辑，提升综合管理能力和决策水平。

### 核心功能

- **财务中心**：财务数据可视化、现金流量管理、融资管理
- **生产中心**：厂房与生产线管理、产品研发、生产计划执行
- **物流中心**：原材料采购、库存管理、成品出库
- **营销中心**：市场开拓、产品研发、广告投放、订单管理
- **运营流程**：年度/季度操作步骤、动态流程图、年末结账
- **报告生成**：第四年结束后自动生成完整运营报告
- **数据导出**：支持CSV格式报告导出

### 技术栈

| 类别 | 技术 | 版本 |
|------|------|------|
| 前端框架 | React | 18 |
| 开发语言 | TypeScript | - |
| 全栈框架 | Next.js | 14 |
| UI组件库 | Ant Design Pro | 5.x |
| 状态管理 | Zustand | - |
| 图表库 | ECharts | - |
| 流程图 | Mermaid | - |
| CSS方案 | Tailwind CSS | - |
| 数据库 | SQLite | - |
| ORM | Prisma | - |

## 安装指南

### 环境要求

- Node.js >= 18.0.0
- npm >= 9.0.0

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <项目仓库地址>
   cd ie-research-simulation
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **启动开发服务器**
   ```bash
   npm run dev
   ```

4. **访问系统**
   打开浏览器，访问 `http://localhost:3000`

### 生产部署

1. **构建项目**
   ```bash
   npm run build
   ```

2. **启动生产服务器**
   ```bash
   npm start
   ```

## 使用说明

### 系统初始状态

系统默认加载企业1的初始状态，包括：
- 财务：现金20M，长期负债40M，股东权益64M
- 生产：大厂房1个，多条生产线，P1在制品4个
- 物流：R1原料3个，P1成品3个
- 营销：本地市场准入，P1产品生产资格

### 运营流程

1. **战略制定**：结合市场情况与企业目标，制定年度发展战略
2. **年度规划**：各部门制定年度工作计划
3. **季度运营**：按季度执行运营流程，包括：
   - 原料采购
   - 生产组织
   - 产品销售
   - 财务核算
4. **年度总结**：年末进行财务结算、绩效分析
5. **报告生成**：第四年结束后自动生成完整运营报告

### 操作指南

#### 财务中心
- **融资管理**：点击"融资"按钮，选择贷款类型和金额
- **现金流量**：查看现金流入流出情况
- **财务报表**：查看资产负债表和利润表

#### 生产中心
- **生产线管理**：点击生产线进行生产操作
- **产品研发**：选择要研发的产品，投入研发资金
- **生产计划**：制定季度生产计划

#### 物流中心
- **原料采购**：下达原材料采购订单
- **库存管理**：查看原材料和成品库存

#### 营销中心
- **市场开拓**：选择要开拓的市场，投入开拓资金
- **广告投放**：制定广告投放策略
- **订单管理**：选择和交付订单

#### 运营流程
- **进入下一季度**：完成当前季度所有操作后，点击"进入下一季度"
- **查看流程**：查看当前年度和季度的运营流程
- **生成报告**：第四年结束后，系统自动生成运营报告
- **导出报告**：点击"导出报告"按钮，下载CSV格式报告

## 项目背景

### 课程概述

《创新实践及科研训练》（创新创业实践）是一门面向智能制造、机械工程等相关专业的必修课程，旨在通过模拟企业运营，提升学生的综合管理能力和决策水平。

| 项目 | 详情 |
|------|------|
| 课程名称 | 创新实践及科研训练（创新创业实践） |
| 课程类别 | 必修课 |
| 学分 | 0.5学分 |
| 学时 | 8学时 |
| 适用专业 | 智能制造(机械工程)、机械电子工程、车辆工程、工业工程、机器人工程 |

### 教学目标

- 理解企业运营的核心概念和基本流程
- 掌握企业管理的关键决策点和影响因素
- 提升团队协作和沟通能力
- 培养系统思维和决策能力

### 考核方式

总评成绩=平时表现20%+模拟企业运营70%+实践报告10%

## 运营规则

### 1. 市场划分与市场准入

| 市场 | 开拓费用 | 持续时间 | 维护要求 |
|------|----------|----------|----------|
| 区域 | 1M | 1年 | 每年最少投入1M维持 |
| 国内 | 2M | 2年 | 每年最少投入1M维持 |
| 亚洲 | 3M | 3年 | 每年最少投入1M维持 |
| 国际 | 4M | 4年 | 每年最少投入1M维持 |

### 2. 销售会议与订单争取

- **选单顺序**：由上年在该市场的订单价值决定市场领导者，市场领导者最先选择订单；非市场领导者按产品的广告投入量多少依次选择订单
- **销售会议**：每年初召开销售会议，结合市场地位、广告投入、市场需求及竞争态势选择订单

### 3. 厂房购买、租赁与出售

| 厂房类型 | 买价 | 租金 | 售价 | 容量 |
|----------|------|------|------|------|
| 大厂房 | 40M | 5M/年 | 40M（4Q） | 6条生产线 |
| 小厂房 | 30M | 3M/年 | 30M（4Q） | 4条生产线 |

### 4. 生产线购买、转产与维护、出售

| 生产线类型 | 购买价格 | 安装周期 | 生产周期 | 转产周期 | 转产费用 | 维护费用 | 出售残值 |
|------------|----------|----------|----------|----------|----------|----------|----------|
| 手工线 | 5M | 无 | 3Q | 无 | 无 | 1M/年 | 1M |
| 半自动 | 8M | 2Q | 2Q | 1Q | 1M | 1M/年 | 2M |
| 全自动 | 16M | 4Q | 1Q | 2Q | 4M | 1M/年 | 4M |
| 柔性线 | 24M | 4Q | 1Q | 无 | 无 | 1M/年 | 6M |

### 5. 产品生产与原材料采购

- **原材料采购**：R1、R2订购需提前1个季度；R3、R4订购需提前2个季度
- **产品生产**：开始生产时需按产品结构要求将原料放在生产线上，并支付加工费（1M/产品）
- **产品结构**：P1=R1+1M；P2=R1+R2+1M

### 6. 产品研发

| 产品 | 研发时间 | 研发投资 |
|------|----------|----------|
| P2 | 6Q | 6M |
| P3 | 6Q | 12M |
| P4 | 6Q | 18M |

### 7. 融资贷款与资金贴现

| 类型 | 贷款/贴现时间 | 额度/条件 | 年息/贴现率 | 还款方式 |
|------|--------------|------------|--------------|----------|
| 长期贷款 | 每年年末 | 权益的2倍，贷款额为20的倍数 | 10% | 年底付息，到期还本，最长期限5年 |
| 短期贷款 | 每季度初 | 权益的2倍，贷款额为20的倍数 | 5% | 到期一次还本付息，期限1年 |
| 高利贷 | 任何时间 | - | 20% | 到期一次还本付息，期限1年 |
| 资金贴现 | 任何时间 | 视应收款额，金额为7的倍数 | 1:6 | 变现时贴息 |

### 8. 综合费用与折旧、税金

- **综合费用**：行政管理费、市场开拓费、产品研发费、ISO认证费、广告费、生产线转产费、设备维修费、厂房租金等
- **折旧计算**：每年按生产线净值的1/3取整计算折旧；当年建成的生产线不提折旧；当生产线净值小于3M时，每年提1M折旧
- **税金缴纳**：每年所得税计入应付税金，在下一年初交纳

## 系统架构

### 项目结构

```
src/
├── components/          # 通用组件
├── modules/            # 核心功能模块
│   ├── finance/        # 财务中心
│   ├── production/     # 生产中心
│   ├── logistics/      # 物流中心
│   ├── marketing/      # 营销中心
│   └── operation/      # 运营流程
├── store/              # 状态管理
├── types/              # TypeScript类型定义
├── utils/              # 工具函数
└── pages/              # 页面路由
```

### 核心数据模型

- **企业状态**：现金、贷款、应收款、应付款、权益等
- **生产设施**：厂房、生产线、在制品
- **库存管理**：原材料、成品
- **市场与产品**：市场开拓状态、产品研发状态、ISO认证
- **运营流程**：年度/季度进度、操作记录
- **广告与订单**：广告投放记录、订单信息

## 开发说明

### 开发流程

1. **分支管理**：使用Git进行版本控制，主分支为`main`
2. **代码规范**：遵循TypeScript和React最佳实践
3. **提交规范**：使用语义化提交信息
4. **测试**：编写单元测试和集成测试
5. **部署**：使用Vercel或其他云平台部署

### 核心功能开发

#### 财务中心开发
- 实现财务数据可视化面板
- 开发融资管理功能
- 实现财务报表生成

#### 生产中心开发
- 实现厂房与生产线图形化布局
- 开发生产线状态管理
- 实现产品研发进度跟踪

#### 物流中心开发
- 实现原材料与成品库存可视化
- 开发原材料订单管理
- 实现采购提前期逻辑

#### 营销中心开发
- 实现市场地图可视化
- 开发广告投放功能
- 实现订单管理与交货

#### 运营流程开发
- 实现动态流程图
- 开发季度/年度操作步骤
- 实现年末结账与报表生成

## 后续优化方向

1. 增加用户认证和多角色权限管理
2. 实现数据持久化和历史数据对比分析
3. 优化移动端适配
4. 增加AI辅助决策功能
5. 支持多语言切换

## 联系方式

### 反馈与建议

如有任何问题或建议，请通过以下方式联系我们：
- GitHub Issues：[GitHub Issues链接]

## 许可证

[MIT License](LICENSE)

## 致谢

感谢用友软件股份有限公司提供的ERP沙盘模拟理念和规则，感谢所有参与开发和测试的团队成员，感谢课程老师的指导和支持。

---

**用友ERP沙盘模拟系统** - 助力创新创业教育，培养未来企业管理者！