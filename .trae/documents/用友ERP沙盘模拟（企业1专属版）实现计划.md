# 用友ERP沙盘模拟（企业1专属版）实现计划

## 一、技术栈选择

### 前端

* **框架**：React 18 + TypeScript

* **UI组件库**：Ant Design Pro 5.x（提供丰富的图表和可视化组件）

* **状态管理**：Zustand（轻量高效的状态管理）

* **图表库**：ECharts（用于数据可视化）

* **流程图**：Mermaid（用于年度运营流程图）

* **CSS方案**：Tailwind CSS（快速构建响应式界面）

### 后端（可选，如需持久化数据）

* **框架**：Next.js 14（全栈框架，支持API路由）

* **数据库**：SQLite（轻量本地数据库）

* **ORM**：Prisma（数据库操作）

## 二、系统架构设计

### 1. 核心数据模型

* **企业状态**：现金、贷款、应收款、应付款、权益等

* **生产设施**：厂房、生产线、在制品

* **库存管理**：原材料、成品

* **市场与产品**：市场开拓状态、产品研发状态、ISO认证

* **运营流程**：年度/季度进度、操作记录

* **广告与订单**：广告投放记录、订单信息

### 2. 模块化设计

* **财务模块**：处理财务数据、报表生成

* **生产模块**：生产线管理、产品研发

* **物流模块**：原材料采购、库存管理

* **营销模块**：广告投放、订单管理

* **运营模块**：流程控制、年度规划

* **可视化模块**：图表展示、状态可视化

## 三、核心功能实现步骤

### 1. 项目初始化

* 初始化Next.js + React + TypeScript项目

* 配置Ant Design Pro和Tailwind CSS

* 安装必要依赖（ECharts、Mermaid等）

### 2. 数据模型设计

* 定义企业初始状态数据结构

* 创建状态管理store（Zustand）

* 实现数据持久化（可选）

### 3. 核心模块开发

#### 3.1 财务中心

* 实现财务数据可视化面板

* 现金流量动态图

* 资产负债结构饼图

* 费用支出柱状图

* 融资管理功能（长贷/短贷/高利贷/贴现）

#### 3.2 生产中心

* 厂房与生产线图形化布局

* 生产线状态管理（生产中/转产中/维护中/闲置）

* 在制品可视化

* 产品研发进度跟踪

#### 3.3 物流中心

* 原材料与成品库存可视化

* 原材料订单管理

* 采购提前期逻辑实现

#### 3.4 营销与规划中心

* 市场地图可视化

* 产品与ISO认证状态

* 广告投放功能（按修改后规则）

* 订单管理与交货

#### 3.5 年度运营流程

* 实现动态流程图

* 季度/年度操作步骤

* 年末结账与报表生成

### 4. 可视化界面集成

* 全局运营看板

* 实时数据更新

* 操作记录回溯

* 响应式设计

## 四、关键功能实现细节

### 1. 广告投放规则（修改后）

* 一次性投放，无需区分市场和产品

* 自动覆盖本地和区域市场

* 自动覆盖P1和P2产品

* 投放金额决定选单顺序

### 2. 生产与库存逻辑

* 生产线生产周期管理

* 原材料采购提前期

* 在制品状态跟踪

* 成品入库与出库

### 3. 财务计算逻辑

* 折旧计提

* 税金计算

* 利息支付

* 现金流量管理

## 五、项目结构

```
src/
├── components/          # 通用组件
├── modules/            # 核心功能模块
│   ├── finance/        # 财务中心
│   ├── production/     # 生产中心
│   ├── logistics/      # 物流中心
│   ├── marketing/      # 营销中心
│   └── operation/      # 运营流程
├── store/              # 状态管理
├── types/              # TypeScript类型定义
├── utils/              # 工具函数
└── pages/              # 页面路由
```

## 六、实现预期

1. **完整的企业1初始状态**：财务、生产、物流、营销的可视化呈现
2. **流畅的年度运营流程**：支持从年初到年末的全流程操作
3. **实时的数据可视化**：动态更新的图表和图形界面
4. **严格的规则遵循**：按照课程标准规则执行，仅修改广告投放规则
5. **直观的操作体验**：图形化界面，易于理解和操作

## 七、后续优化方向

1. 增加用户认证和多角色权限管理
2. 实现数据导出功能（财务报表、运营报告）
3. 增加历史数据对比分析
4. 优化移动端适配
5. 增加AI辅助决策功能

